<div class="business-form-container">
  <div class="business-form-card">
    <div class="form-header">
      <h2>Vendors</h2>
    </div>
    <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()" class="business-form">
      <div class="form-section">
        <h3>Basic Information</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="name">Vendor Name</label>
            <input
              id="name"
              type="text"
              formControlName="name"
              placeholder="Enter vendor name"
              [class.error]="form.get('name')?.invalid && form.get('name')?.touched"
            />
            @if (form.get('name')?.invalid && form.get('name')?.touched) {
            <div class="error-message">Vendor name is required</div>
            }
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="description">Phone</label>
            <input
              id="phone"
              type="text"
              formControlName="phone"
              placeholder="Enter vendor phone"
              [class.error]="form.get('phone')?.invalid && form.get('phone')?.touched"
            />
            @if (form.get('phone')?.invalid && form.get('phone')?.touched) {
            <div class="error-message">Phone is required</div>
            }
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="status">Status *</label>
            <select id="status" formControlName="status">
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
        </div>
      </div>
      <!-- Actions -->
      <div class="form-actions">
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Save</button>
      </div>
    </form>
  </div>
</div>

<!-- List -->

<div class="categories-list">
  <h3>Existing Vendors</h3>

  <table *ngIf="vendors$ | async as vendors" class="category-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Phone</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let vendor of vendors">
        <td>{{ vendor.name }}</td>
        <td>{{ vendor.phone }}</td>
        <td>{{ vendor.status }}</td>
        <td>
          <button (click)="onDelete(vendor)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
